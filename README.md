# Приложение для управления медицинскими процедурами в косметологии. 
Оно позволяет загружать данные пациентов из CSV-файлов, отображать их в таблице и показывать детали по выбранному пациенту, включая прогресс выполнения процедур.

<img width="1644" height="925" alt="NIST" src="https://github.com/Zaborovnet/NIST/blob/1f4d7077e1643bd02d14e4570a08317f0c0e7009/NIST.png" />

## Архитектура приложения
Приложение состоит из нескольких основных классов:
1. **PatientData** - класс для хранения данных о пациенте. Содержит следующие поля:
   - Фамилияhttps://github.com/user-attachments/assets/9a415f8c-1645-44cf-86c2-78340857d44a
   - Диагноз
   - Процедура
   - Параметры процедуры
   - Назначенное количество процедур
   - Выполненное количество процедур
2. **ProgressWidget** - кастомный виджет для отображения прогресса выполнения процедур. Состоит из:
   - QProgressBar - индикатор выполнения в процентах
   - QLabel - текстовая информация о количестве выполненных и назначенных процедур
3. **MainWindow** - главное окно приложения, содержащее:
   - QComboBox для выбора пациента
   - QPushButton для загрузки CSV и создания демо-файла
   - QLabel для отображения деталей о процедуре
   - QTableWidget для отображения таблицы пациентов
   - ProgressWidget для визуализации прогресса
## Логика работы
### Загрузка данных
1. Пользователь может загрузить CSV-файл с данными пациентов, нажав кнопку "Загрузить CSV".
2. Приложение пытается автоматически определить кодировку файла (UTF-8 или Windows-1251) и загрузить данные.
3. Данные из файла парсятся и сохраняются в вектор объектов `PatientData`.
4. Фамилии пациентов заносятся в выпадающий список (QComboBox).
5. Данные отображаются в таблице (QTableWidget).
### Создание демо-файла
1. При нажатии кнопки "Создать демо CSV" в корневой папке приложения создается файл `nist_cosmetology_demo.csv` с тестовыми данными.
2. Файл создается в кодировке UTF-8 с BOM.
3. После создания файл автоматически загружается в приложение.
### Отображение деталей пациента
1. Пользователь выбирает пациента из выпадающего списка.
2. При нажатии кнопки "Показать детали" (или автоматически после загрузки) отображается:
   - Текстовая информация в QLabel: название процедуры и количество выполненных/назначенных сеансов.
   - Прогресс выполнения процедур в ProgressWidget (прогресс-бар и текст).
## Особенности реализации
1. **Кодировка CSV**: 
   - При создании демо-файла явно устанавливается кодировка UTF-8 с BOM.
   - При загрузке файла приложение сначала пробует UTF-8, затем Windows-1251.
2. **Обработка данных**:
   - Проверка формата каждой строки CSV.
   - Проверка корректности числовых полей (назначено и выполнено процедур).
   - Пропуск некорректных строк.
3. **Интерфейс**:
   - Использован Qt Designer для создания UI (файл `mainwindow.ui`).
   - Кастомный виджет `ProgressWidget` интегрирован в UI.
   - Таблица автоматически подстраивает ширину столбцов.
## Сборка и запуск
### Требования
- Qt 5.14 или выше
- Компилятор с поддержкой C++17
### Инструкция по сборке
1. Клонируйте репозиторий.
2. Откройте проект в Qt Creator.
3. Соберите проект.
4. Запустите приложение.
### Использование
1. При запуске приложения нажмите "Создать демо CSV" для генерации тестовых данных.
2. Или используйте кнопку "Загрузить CSV" для загрузки своего файла.
3. Выберите пациента из выпадающего списка.
4. Нажмите "Показать детали" для отображения информации о процедуре и прогрессе.
## Формат CSV-файла
Файл должен быть в формате CSV с разделителем точка с запятой (;). Структура файла:
```
Фамилия;Диагноз;Процедура;Параметры;Назначено;Выполнено
Иванова;Пигментация;Лазерное омоложение;Длина волны: 532 нм, Мощность: 15 Дж/см²;6;3
...
```
